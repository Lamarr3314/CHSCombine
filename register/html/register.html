<!DOCTYPE html>
<html lang="en" style="background-color: #1d1d16" ;>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CHS Combine</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="../../images/JustHorseFAVICON.png"
    />
    <link rel="stylesheet" href="../css/registerButton.css" />
    <link rel="stylesheet" href="../../generic/navBar.css" />
    <link rel="stylesheet" href="../css/register.css" />
    <script defer src="../../generic/nonIndexNavBar.js"></script>
    <script defer src="../../register/js/formSubmission.js"></script>
    <script defer src="../../register/js/register.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cardo&family=Old+Standard+TT&family=Sono:wght@300&family=Urbanist:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="margin: 0">
    <div id="navBar">
      <div id="register"><img alt="" id="registerImg" /></div>
      <div id="mainImg">
        <img alt="" id="mainImage" />
      </div>
      <div id="leaderboard"><img alt="" id="leaderboardImg" /></div>
    </div>
    <form method="post" id="frmContact">
      <div><img src="../../images/Name.png" alt="Name" id="name_image" /></div>
      <div class="glow-table">
        <input type="text" id="name_bar" />
      </div>
      <div>
        <img src="../../images/Grade.png" alt="Grade" id="grade_image" />
      </div>
      <!--../../images/Grade.png-->
      <div class="glow-table">
        <input type="text" id="grade_bar" name="grade" />
      </div>
      <div>
        <img
          src="../../images/Participation.png"
          alt="Participation"
          id="participation_image"
        />
      </div>
      <div class="glow-table">
        <input type="text" id="participation_bar" />
      </div>
      <button class="glowing-btn" type="submit" name="submit">
        <span class="glowing-txt"
          >SU<span class="faulty-letter">BM</span>IT</span
        >
      </button>
    </form>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
        get,
        child,
      } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js";

      // Paste the code from Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyA9UsGQb9CZrAf9L95tu_N5u0nqd0OJN2E",
        authDomain: "chscombine-246b6.firebaseapp.com",
        databaseURL: "https://chscombine-246b6-default-rtdb.firebaseio.com",
        projectId: "chscombine-246b6",
        storageBucket: "chscombine-246b6.appspot.com",
        messagingSenderId: "1052550959110",
        appId: "1:1052550959110:web:965fade2cc8ec35bbff387",
        measurementId: "G-2GHJ0PS9ZR",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      // Get a reference to the database service
      const db = getDatabase(app);

      document
        .getElementById("frmContact")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          set(ref(db, "interested/" + Math.random().toString(36).slice(2, 7)), {
            name: document.getElementById("name_bar").value,
            grade: document.getElementById("grade_bar").value,
            participation: document.getElementById("participation_bar").value,
          });
          alert(get(db, "interested/"));
          alert("Your form is submitted");
          document.getElementById("frmContact").reset();
        });
    </script>
  </body>
</html>
